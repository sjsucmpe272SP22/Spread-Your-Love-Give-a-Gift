<h2 *ngIf="empty" class="alert alert-danger">{{empty}}</h2>
<a  data-toggle="tooltip" title="Add Address"><button type="button" style="position:fixed;
width:35px;
height:35px;
top:70px;
right:40px;
background-color:green;
color:#FFF;
border-radius:50px;
text-align:center;
box-shadow: 2px 2px 3px #999;" data-toggle="modal" data-target="#myModal"><span class="glyphicon glyphicon-plus"></span></button><span class="badge" style="position:fixed;
top:60px;
right:35px;" >{{noOfaddress}}</span></a>

<div class="container-fluid">
  <div class=" col-md-4  col-md-offset-1 card card-hover" *ngFor="let add of addList">
    <div class="card-body" >
        <table class="table" id="grad1">
            <tbody>
              <tr><th>Door No</th><td>{{add.doorNo}}</td></tr>
              <tr><th>Street</th><td>{{add.street}}</td></tr>
              <tr><th>City</th><td>{{add.city}}</td></tr>
              <tr><th>Pincode</th><td>{{add.pincode}}</td></tr>
              <tr><th><button type="button" (click)="selectObj(add)" data-toggle="modal" data-target="#AddModal" class="btn btn-info">Edit</button></th><td><button type="button" class="btn btn-danger" (click)="delObject(add)">Remove</button></td></tr>
            </tbody>
        </table>
    </div>
  </div>
</div>
<strong *ngIf="delMessage">{{delMessage}}</strong>
<div id="myModal" class="modal fade" role="dialog">
    <div class="modal-dialog" >
      <!-- Modal content-->
      <div class="modal-content" style="background-color:lightblue">
        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal">&times;</button>
          <h4 class="modal-title text-center" style="font-family: Cooper Black;">Add Address</h4>
        </div>
        <div class="modal-body">
          <form [formGroup]="addForm" (ngSubmit)="addAddress()">
              <div class="form-group" formGroupName="addressEntity">
            <div class="form-group">
              <label>Door No</label>
              <input type="text" class="form-control" formControlName="doorNo">
              <span class="text-danger" *ngIf="addForm.get('addressEntity').get('doorNo').invalid && addForm.get('addressEntity').get('doorNo').dirty">
                <span *ngIf="addForm.controls.addressEntity.get('doorNo').hasError('pattern')">
                  Only symbols(-,/) and numbers are allowed.
                </span>  
                  <span *ngIf="addForm.controls.addressEntity.get('doorNo').hasError('maxlength')">
                    Length must be less than 15.
                  </span>
              </span>
            </div>
            <div class="form-group"> 
                <label>Street</label>
                <input type="text"  class="form-control" formControlName="street">
                <span class="text-danger" *ngIf="addForm.get('addressEntity').get('street').invalid && addForm.get('addressEntity').get('street').dirty">
                    <span *ngIf="addForm.controls.addressEntity.get('street').hasError('pattern')">
                      Only spaces are not allowed.
                    </span>  
                      <span *ngIf="addForm.controls.addressEntity.get('street').hasError('maxlength')">
                        Length must be less than 50.
                      </span>
                </span>
            </div>
            <div class="form-group"> 
                <label>City</label>
                <input type="text" class="form-control" formControlName="city">
                <span class="text-danger" *ngIf="addForm.get('addressEntity').get('city').invalid && addForm.get('addressEntity').get('city').dirty">
                  <span *ngIf="addForm.controls.addressEntity.get('city').hasError('pattern')">
                    Only spaces are not allowed.
                  </span>  
                    <span *ngIf="addForm.controls.addressEntity.get('city').hasError('maxlength')">
                      Length must be less than 50.
                    </span>
                </span>
            </div>
            <div class="form-group"> 
                <label>Pincode</label>
                <input type="number" class="form-control" formControlName="pincode">
                <span class="text-danger" *ngIf="addForm.get('addressEntity').get('pincode').invalid && addForm.get('addressEntity').get('pincode').dirty">
                    Length must be 6 only.
                </span>
            </div>
            </div>
            <div class="form-group">
              <button type="submit" class="btn btn-info" [disabled]="addForm.invalid">Add</button>
            </div>
          </form>
        </div>
        <div class="modal-footer">
          <strong *ngIf="res">{{res}}</strong>
          <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
        </div>
      </div>
    </div>
  </div>
<!-- new modal -->
<div id="AddModal" class="modal">
  
  <div class="modal-dialog" >
    <!-- Modal content-->
    <div class="modal-content" id="grad1">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal">&times;</button>
        <h4 class="modal-title text-center" style="font-family: Cooper Black;">Update Address</h4>
      </div>
      <div class="modal-body">
          <form [formGroup]="updateForm" (ngSubmit)="updateAddress()">
            <div class="form-group" formGroupName="addressEntity">
            <div class="form-group">
              <label>Door No</label>
              <input type="text" class="form-control" formControlName="doorNo">
              <span class="text-danger" *ngIf="updateForm.get('addressEntity').get('doorNo').invalid && updateForm.get('addressEntity').get('doorNo').dirty">
                <span *ngIf="updateForm.controls.addressEntity.get('doorNo').hasError('pattern')">
                  Only symbols(-,/) and numbers are allowed.
                </span>  
                  <span *ngIf="updateForm.controls.addressEntity.get('doorNo').hasError('maxlength')">
                    Length must be less than 15.
                  </span>
              </span>
            </div>
            <div class="form-group"> 
                <label>Street</label>
                <input type="text" class="form-control" formControlName="street">
                <span class="text-danger" *ngIf="updateForm.get('addressEntity').get('street').invalid && updateForm.get('addressEntity').get('street').dirty">
                  <span *ngIf="updateForm.controls.addressEntity.get('street').hasError('pattern')">
                    Only spaces are not allowed.
                  </span>  
                    <span *ngIf="updateForm.controls.addressEntity.get('street').hasError('maxlength')">
                      Length must be less than 50.
                    </span>
                </span>
            </div>
            <div class="form-group"> 
                <label>City</label>
                <input type="text" class="form-control" formControlName="city">
                <span class="text-danger" *ngIf="updateForm.get('addressEntity').get('city').invalid && updateForm.get('addressEntity').get('city').dirty">
                  <span *ngIf="updateForm.controls.addressEntity.get('city').hasError('pattern')">
                    Only spaces are not allowed.
                  </span>  
                    <span *ngIf="updateForm.controls.addressEntity.get('city').hasError('maxlength')">
                      Length must be less than 50.
                    </span>
                </span>
            </div>
            <div class="form-group"> 
                <label>Pincode</label>
                <input type="number"  class="form-control" formControlName="pincode">
                <span class="text-danger" *ngIf="updateForm.get('addressEntity').get('pincode').invalid && updateForm.get('addressEntity').get('pincode').dirty">
                    Length must be 6 only.
                </span>
            </div>
            </div>
            <div class="form-group">
              <button type="submit" class="btn btn-info" id="grad1" [disabled]="updateForm.invalid" >Update</button>
            </div>
          </form>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-warning" data-dismiss="modal">Close</button>
      </div>
    </div>
</div>

<!-- modal end -->
<script>
    $(document).ready(function(){
      $('[data-toggle="tooltip"]').tooltip();   
    });
</script>
  
  